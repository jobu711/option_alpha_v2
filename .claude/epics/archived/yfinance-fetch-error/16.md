---
name: Update dashboard and settings UI
status: closed
created: 2026-02-11T13:44:14Z
updated: 2026-02-11T13:44:14Z
github: https://github.com/jobu711/option_alpha_v2/issues/16
depends_on: [19, 18]
parallel: false
conflicts_with: []
---

# Task: Update dashboard and settings UI

## Description
Update the web layer to expose failure cache stats on the dashboard and add fetch configuration inputs to the settings page. Add a POST `/clear-failure-cache` endpoint.

## Acceptance Criteria
- [ ] Dashboard shows "N tickers skipped" in freshness stats section when failures exist
- [ ] Settings page has new "Data Fetch" section with inputs for: batch_size, max_workers, max_retries, failure_cache_ttl_hours
- [ ] Settings page has "Clear Failure Cache" button
- [ ] POST `/clear-failure-cache` endpoint works (follows `reset_settings` pattern)
- [ ] `save_settings` parses and persists the 4 new fetch config fields
- [ ] All existing tests pass

## Technical Details
- Files: `src/option_alpha/web/routes.py`, `src/option_alpha/web/templates/dashboard.html`, `src/option_alpha/web/templates/settings.html`
- `dashboard()` route: call `get_failure_cache_stats()` and add to template context
- `/clear-failure-cache` route: call `clear_failure_cache()`, redirect back to settings with flash
- Settings inputs: use number type, include sensible min/max validation
- Follow existing patterns in routes.py for new endpoints

## Dependencies
- [ ] #18 (config fields must exist for settings page)
- [ ] #19 (failure cache stats function must exist for dashboard)

## Effort Estimate
- Size: M
- Hours: 2-3
- Parallel: false (depends on #18 and #19)

## Definition of Done
- [ ] Code implemented
- [ ] Tests written and passing
- [ ] Existing 547+ tests still pass
