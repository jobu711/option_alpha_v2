---
name: Add fetch config fields and error enum
status: closed
created: 2026-02-11T13:44:14Z
updated: 2026-02-11T13:44:14Z
github: https://github.com/jobu711/option_alpha_v2/issues/18
depends_on: []
parallel: true
conflicts_with: []
---

# Task: Add fetch config fields and error enum

## Description
Add 5 new fetch-related configuration fields to the Pydantic `Settings` class in `config.py` and add a `FetchErrorType` enum to `models.py`. These provide the foundation for configurable fetching and error classification.

## Acceptance Criteria
- [ ] `fetch_max_retries` (int, default 3) added to Settings
- [ ] `fetch_retry_delays` (list[float], default [1.0, 2.0, 4.0]) added to Settings
- [ ] `fetch_batch_size` (int, default 20) added to Settings
- [ ] `fetch_max_workers` (int, default 2) added to Settings
- [ ] `failure_cache_ttl_hours` (int, default 24) added to Settings
- [ ] `FetchErrorType(str, Enum)` added to models.py with values: DELISTED, RATE_LIMITED, NETWORK, INSUFFICIENT_DATA, UNKNOWN
- [ ] All new Settings fields have backwards-compatible defaults
- [ ] All existing tests pass

## Technical Details
- Files: `src/option_alpha/config.py`, `src/option_alpha/models.py`
- New Settings fields use `OPTION_ALPHA_` env var prefix (existing pattern)
- Default `fetch_max_workers=2` is a change from the current hardcoded 4 (intentional throttle)
- FetchErrorType is a string enum for JSON serialization compatibility

## Dependencies
- [ ] None â€” foundation task

## Effort Estimate
- Size: XS
- Hours: 0.5-1
- Parallel: true (no dependencies)

## Definition of Done
- [ ] Code implemented
- [ ] Tests written and passing
- [ ] Existing 547+ tests still pass
