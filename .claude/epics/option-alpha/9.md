---
name: Integration testing & polish
status: open
created: 2026-02-11T00:53:50Z
updated: 2026-02-11T00:55:00Z
github: https://github.com/jobu711/option_alpha_v2/issues/9
depends_on: [4, 7, 10, 11, 2, 5, 8, 3, 6]
parallel: false
conflicts_with: []
---

# Task: Integration testing & polish

## Description
Final integration testing, entry point setup, error messaging, and polish. Create the `__main__.py` zero-config entry point, write end-to-end pipeline tests with fixture data, add clear error messages for common failure modes (Ollama not running, missing API keys, no internet), and validate all acceptance criteria from the PRD.

## Acceptance Criteria
- [ ] `__main__.py` entry point: `python -m option_alpha` starts FastAPI server and opens browser to dashboard
- [ ] End-to-end integration test: full pipeline with mocked externals produces expected output
- [ ] Error messaging: clear user-facing messages when Ollama is not running
- [ ] Error messaging: clear message when Claude API key is missing but Claude backend selected
- [ ] Error messaging: clear message on yfinance connection failure
- [ ] Dashboard shows helpful error states (no scan data yet, scan failed, etc.)
- [ ] All PRD acceptance criteria validated (US-1 through US-7)
- [ ] Performance check: dashboard loads < 2 seconds, detail panel < 500ms
- [ ] Local-only binding: server defaults to 127.0.0.1
- [ ] API keys never appear in logs or error messages

## Technical Details
- `__main__.py`: `uvicorn.run(app, host="127.0.0.1", port=8000)` + `webbrowser.open()`
- Integration test: pytest fixtures providing mock OHLCV data, mock options chains, mock LLM responses
- Error detection: check Ollama connection on startup, validate API key format
- Error display: dashboard template includes error banner section, populated via template context
- Security: ensure no secrets in logs, bind localhost only, validate all user inputs

## Dependencies
- [ ] All prior tasks (001-009)

## Effort Estimate
- Size: M
- Hours: 5-7
- Parallel: false (depends on all other tasks)

## Definition of Done
- [ ] Code implemented
- [ ] Integration tests passing
- [ ] Zero-config startup works
- [ ] All PRD acceptance criteria validated
- [ ] No security issues (local binding, no leaked keys)
