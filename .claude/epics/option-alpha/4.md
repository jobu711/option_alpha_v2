---
name: Project scaffolding & data layer
status: open
created: 2026-02-11T00:53:50Z
updated: 2026-02-11T00:55:00Z
github: https://github.com/jobu711/option_alpha_v2/issues/4
depends_on: []
parallel: false
conflicts_with: []
---

# Task: Project scaffolding & data layer

## Description
Set up the project foundation: hatchling src-layout package structure, all Python dependencies, Pydantic-based configuration system, yfinance batch data fetcher with threading, Parquet/JSON caching layer, and ticker universe management with pre-filtering. This is the foundational task that all other tasks depend on.

## Acceptance Criteria
- [ ] Hatchling src-layout project created at `src/option_alpha/` with pyproject.toml
- [ ] All Python dependencies declared (fastapi, uvicorn, jinja2, yfinance, pandas, numpy, pandas-ta-classic, py_vollib, instructor, pydantic, httpx, pytest)
- [ ] `config.py` with Pydantic Settings: scoring weights, DTE range, liquidity filters, AI backend toggle, with JSON file persistence
- [ ] `models.py` with shared Pydantic models (TickerData, TickerScore, ScoreBreakdown, etc.)
- [ ] `data/universe.py` manages curated ticker list (~3000 optionable stocks), pre-filters by min volume/price
- [ ] `data/fetcher.py` batch downloads OHLCV via yfinance with ThreadPoolExecutor, retry/backoff on failures
- [ ] `data/cache.py` stores OHLCV in Parquet format, metadata in JSON, with cache freshness checks
- [ ] Unit tests for fetcher (mocked yfinance), cache read/write, universe filtering
- [ ] `pip install -e .` works and imports resolve

## Technical Details
- Use hatchling build system with `src/` layout
- Pydantic BaseSettings for config with JSON file persistence via `config.json`
- yfinance `download()` for batch OHLCV; use `concurrent.futures.ThreadPoolExecutor` for parallel ticker groups
- Parquet via `pandas.DataFrame.to_parquet()` / `read_parquet()` with date-based file naming
- Retry decorator with exponential backoff (3 retries, 1s/2s/4s delays)
- Pre-filter: price > $5, avg volume > 500k, optionable flag

## Dependencies
- [ ] None (foundational task)

## Effort Estimate
- Size: L
- Hours: 8-12
- Parallel: false (must complete before Tasks 2-4)

## Definition of Done
- [ ] Code implemented
- [ ] Tests written and passing
- [ ] Package installs cleanly
