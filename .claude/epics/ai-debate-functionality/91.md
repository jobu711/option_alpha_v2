---
name: Remove AI debate phase from scan pipeline orchestrator
status: open
created: 2026-02-14T00:12:02Z
updated: 2026-02-14T00:12:02Z
github: https://github.com/jobu711/option_alpha_v2/issues/91
depends_on: []
parallel: true
conflicts_with: [93]
---

# Task: Remove AI debate phase from scan pipeline orchestrator

## Description
Remove the AI debate phase (phase 5) from the scan pipeline so scans complete faster with 5 phases instead of 6. The `DebateManager` will no longer be called during scans — debates move to on-demand user-initiated flow (handled by Issue #2).

## Acceptance Criteria
- [ ] `PHASE_NAMES` contains 5 phases: `["data_fetch", "scoring", "catalysts", "options", "persist"]`
- [ ] `_phase_ai_debate()` method is removed from `ScanOrchestrator`
- [ ] `run_scan()` no longer calls `_phase_ai_debate()` — passes empty list to `_phase_persist()`
- [ ] `_phase_persist()` uses `phase_idx = 4` (was 5)
- [ ] Imports of `get_client` and `DebateManager` are removed from orchestrator
- [ ] Docstring updated to reflect 5 phases
- [ ] `trigger_scan()` in `web/routes.py` returns 5 phases (no `ai_debate`) in the progress partial

## Technical Details
- **File**: `src/option_alpha/pipeline/orchestrator.py`
  - Remove `"ai_debate"` from `PHASE_NAMES` list (line 65)
  - Remove `from option_alpha.ai.clients import get_client` (line 26)
  - Remove `from option_alpha.ai.debate import DebateManager` (line 27)
  - Remove `_phase_ai_debate()` method entirely (lines 370-416)
  - In `run_scan()`: remove the Phase 5 call block (lines 147-150), keep `debate_results = []`
  - Update `_phase_persist()`: change `phase_idx = 5` to `phase_idx = 4`
  - Update module docstring (lines 1-10) to say 5 phases
- **File**: `src/option_alpha/web/routes.py`
  - In `trigger_scan()` (line 242): remove `{"name": "ai_debate", "status": "pending"}` from the phases list

## Dependencies
- [ ] None — this is the first task

## Effort Estimate
- Size: S
- Hours: 1-2
- Parallel: true (no dependency on other tasks)

## Definition of Done
- [ ] Code implemented
- [ ] Pipeline runs with 5 phases
- [ ] No references to ai_debate remain in orchestrator
- [ ] Progress UI shows 5 phases when scan is triggered
