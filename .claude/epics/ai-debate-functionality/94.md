---
name: Create _debate_results.html partial template
status: open
created: 2026-02-14T00:12:02Z
updated: 2026-02-14T00:12:02Z
github: https://github.com/jobu711/option_alpha_v2/issues/94
depends_on: []
parallel: true
conflicts_with: []
---

# Task: Create _debate_results.html partial template

## Description
Create a new Jinja2 partial template that renders debate results for one or more tickers as compact cards. This partial is returned by the `POST /debate` endpoint and swapped into the `#debate-results` container on the dashboard via HTMX.

## Acceptance Criteria
- [ ] Template renders a card for each ticker in the `results` list
- [ ] Each card shows: ticker symbol, bull thesis, bear thesis, risk synthesis, conviction badge (1-10), direction badge, recommended action
- [ ] Conviction badge is color-coded (green for 7+, yellow for 4-6, red for 1-3)
- [ ] Direction badge uses existing `direction-bullish`, `direction-bearish`, `direction-neutral` CSS classes
- [ ] Fallback results are visually distinct (muted styling, "[FALLBACK]" label) â€” detected when `recommended_action` contains "No trade" or conviction == 3
- [ ] Template handles empty results list gracefully (shows "No debate results" message)
- [ ] Card layout is compact and fits within the dashboard flow

## Technical Details
- **File**: `src/option_alpha/web/templates/_debate_results.html` (new file)
  - Template receives `results` variable: list of dicts with keys `symbol`, `bull_thesis`, `bear_thesis`, `risk_synthesis`, `conviction`, `direction`, `recommendation`
  - Use existing CSS class patterns from `_candidates_table.html` and `ticker_detail.html`
  - Structure per card:
    ```html
    <div class="debate-card {% if is_fallback %}debate-fallback{% endif %}">
        <div class="debate-header">
            <span class="debate-ticker mono">{{ r.symbol }}</span>
            <span class="direction-badge direction-{{ r.direction }}">{{ r.direction | upper }}</span>
            <span class="conviction-badge conviction-{{ conviction_level }}">{{ r.conviction }}/10</span>
            {% if is_fallback %}<span class="fallback-label">[FALLBACK]</span>{% endif %}
        </div>
        <div class="debate-body">
            <div class="debate-agent"><strong>Bull:</strong> {{ r.bull_thesis }}</div>
            <div class="debate-agent"><strong>Bear:</strong> {{ r.bear_thesis }}</div>
            <div class="debate-agent"><strong>Risk:</strong> {{ r.risk_synthesis }}</div>
        </div>
        <div class="debate-footer">
            <strong>Action:</strong> {{ r.recommendation }}
        </div>
    </div>
    ```
  - Add minimal CSS in `static/style.css` or inline styles for `.debate-card`, `.debate-fallback`, `.conviction-badge`

## Dependencies
- [ ] None (template can be created independently, consumed by Issue #2 endpoint)

## Effort Estimate
- Size: S
- Hours: 1-2
- Parallel: true

## Definition of Done
- [ ] Template file created and renders correctly
- [ ] Fallback results visually distinct
- [ ] Card layout fits dashboard flow
- [ ] Empty state handled
